@page "/Create"
@using EmployeeManagementActivity.Services
@using EmployeeManagementActivity.Model
@using Microsoft.AspNetCore.Components.Forms
@inject EmployeeServices employService
@inject NavigationManager navigation


<h3>Add New Employee</h3>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <EditForm OnValidSubmit="SaveEmployee" Model="employee">
                <label for="Name">Enter Name</label>
                <input class="form-control" @bind-value="employee.Name" required />
                <label for="Age">Enter Age</label>
                <input class="form-control" @bind-value="employee.Age" required/>
                <label for="Position">Enter Position</label>
                <input class="form-control" @bind-value="employee.Position" required/>
                <label for="Salary">Enter Salary</label>
                <input class="form-control" @bind-value="employee.Salary" required/>
                <button type="submit" class="btn btn-primary" >Save</button>
            </EditForm>

        </div>

    </div>

</div>

@code {
    private EmployeeMgt employee = new EmployeeMgt();
    private async Task SaveEmployee()
    {
        await employService.AddNewEmployee(employee);
        navigation.NavigateTo("/");
    }
}
