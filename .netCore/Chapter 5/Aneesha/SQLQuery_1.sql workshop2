CREATE DATABASE HireMeNowDB;
USE HireMeNowDB;

CREATE TABLE Users (
    Id UNIQUEIDENTIFIER DEFAULT NEWID() PRIMARY KEY,
    FirstName VARCHAR(50) NULL,
    LastName VARCHAR(50) NULL,
    Email VARCHAR(50) NULL,
    Gender VARCHAR(50) NOT NULL UNIQUE,
    Location VARCHAR(50) NULL,
    Phone VARCHAR(50) NULL,
    Password VARCHAR(50) NULL,
    Role VARCHAR(50) NULL,
    About VARCHAR(50) NULL,
    Designation VARCHAR(50) NULL,
    CompanyId UNIQUEIDENTIFIER NULL,
    Status VARCHAR(50) NULL,
    Image VARCHAR(50) NULL
);

SELECT * from Users

ALTER TABLE Users
ADD CONSTRAINT email_unique UNIQUE (Email);


CREATE TABLE Experiences (
    Id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
    UserId UNIQUEIDENTIFIER NULL,
    JobTitle VARCHAR(50) NULL,
    Company VARCHAR(50) NULL,
    Duration VARCHAR(50) NULL,
    Year VARCHAR(50) NULL
);

SELECT * FROM Experiences

EXEC sp_rename 'Experience', 'Experiences';

ALTER TABLE Experiences
ADD CONSTRAINT fk_users_id
FOREIGN KEY (UserId) REFERENCES Users(Id);

-- Add Job Provider
INSERT INTO Users (Id, FirstName, LastName, Email, Gender, Location, Phone, Password, Role, About, Designation, CompanyId, Status, Image)
VALUES ('9b80c5d4-5de6-4f16-acd5-26f7d392b8b9',
 'Soudha', 
 'AM', 
 'soudha.aitrich@gmail.com', 
 'Female',
  'Thrissur', NULL, 
  '123', 'Jobprovider', NULL, NULL, NULL, 'Active', NULL);


-- Add Jobseeker

INSERT INTO Users (Id, FirstName, LastName, Email, Gender, Location, Phone, Password, Role, About, Designation, CompanyId, Status, Image)
VALUES ('6fa50404-3754-4062-a4b0-ca333468e69a', 'yadhu', 'krishna', 'yadhu.aitrich@gmail.com', 'Male', 'Thrissur', NULL, '123', 'Jobseeker', NULL, NULL, NULL, 'Active', NULL);


-- Add Company Member

INSERT INTO Users (Id, FirstName, LastName, Email, Gender, Location, Phone, Password, Role, About, Designation, CompanyId, Status, Image)
VALUES ('08569e5d-b488-4c09-a7d1-e60fe4e5a512', 'shini', 'parameswaran', 'shini.aitrich@gmail.com', NULL, 'Thrissur', NULL, '123', 'CompanyMember', NULL, NULL, 'ab5f391e-d83e-4eae-87cd-bca23175cf22', 'Active', NULL);

----INSERT DATA INTO ExperienceS
INSERT INTO Experiences (UserId, JobTitle, Company, Duration, Year) 
VALUES 
('6fa50404-3754-4062-a4b0-ca333468e69a', 'Dotnet Developer', 'Aitrich Technologies', '2 years', '2021-2023'),
('6fa50404-3754-4062-a4b0-ca333468e69a', 'Dotnet Developer', 'TCS', '2 years', '2019-2021');











